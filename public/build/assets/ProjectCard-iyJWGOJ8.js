import{u as M,j as o,B as b,g as D,f as E,d as B,e as F,b as G,h as O,r as f,G as x}from"./app-DqrfRhpM.js";import{C as A}from"./Card-hYCxuQn3.js";import{a as V}from"./route-BEAlbOk0.js";import{r as W}from"./round-B_jmg6bv.js";import{S as q}from"./Stack-CB2HZo4s.js";import{T as H}from"./Title-THazo1f7.js";import{I as J}from"./IconStarFilled-fnc1Tt_4.js";import{T as g}from"./Text-CYeE7gwI.js";import{T as y}from"./Tooltip-CZKDsjfN.js";import"./Card-DI-9rS8s.js";import"./_baseClone-Dm2q0I1Z.js";import"./createReactComponent-Bf3XXu9m.js";import"./DirectionProvider-Cj8DwV0F.js";import"./use-floating-auto-update-BRfn-mwN.js";import"./get-style-object-DUJZA7T_.js";function K({size:s,thickness:e,sum:t,value:a,root:u,offset:m}){const i=(s*.9-e*2)/2,l=Math.PI*i*2/100,r=u||a===void 0?`${(100-t)*l}, ${t*l}`:`${a*l}, ${(100-a)*l}`;return{strokeWidth:Number.isNaN(e)?12:e,cx:s/2||0,cy:s/2||0,r:i||0,transform:u?`scale(1, -1) translate(0, -${s})`:void 0,strokeDasharray:r,strokeDashoffset:u?0:m||0}}function C({size:s,value:e,offset:t,sum:a,thickness:u,root:m,color:i,lineRoundCaps:l,tooltip:r,getStyles:c,display:n,...d}){const v=M();return o.jsx(y.Floating,{disabled:!r,label:r,children:o.jsx(b,{component:"circle",...d,...c("curve"),__vars:{"--curve-color":i?D(i,v):void 0},fill:"none",strokeLinecap:l?"round":"butt",...K({sum:a,size:s,thickness:u,value:e,offset:t,root:m})})})}C.displayName="@mantine/core/Curve";function L({size:s,thickness:e,sections:t,renderRoundedLineCaps:a,rootColor:u}){const m=t.reduce((n,d)=>n+d.value,0),i=Math.PI*((s*.9-e*2)/2)*2;let l=i;const r=[],c=[];for(let n=0;n<t.length;n+=1)r.push({sum:m,offset:l,data:t[n],root:!1}),l-=t[n].value/100*i;if(r.push({sum:m,offset:l,data:{color:u},root:!0}),c.push({...r[r.length-1],lineRoundCaps:!1}),r.length>2){c.push({...r[0],lineRoundCaps:a}),c.push({...r[r.length-2],lineRoundCaps:a});for(let n=1;n<=r.length-3;n+=1)c.push({...r[n],lineRoundCaps:!1})}else c.push({...r[0],lineRoundCaps:a});return c}var P={root:"m_b32e4812",svg:"m_d43b5134",curve:"m_b1ca1fbf",label:"m_b23f9dc4"};function Q(s,e){return Math.min(s||12,(e||120)/4)}const U={size:120,thickness:12},X=O((s,{size:e,thickness:t})=>({root:{"--rp-size":f(e),"--rp-label-offset":f(t*2)}})),k=E((s,e)=>{const t=B("RingProgress",U,s),{classNames:a,className:u,style:m,styles:i,unstyled:l,vars:r,label:c,sections:n,size:d,thickness:v,roundCaps:R,rootColor:T,...j}=t,p=F({name:"RingProgress",classes:P,props:t,className:u,style:m,classNames:a,styles:i,unstyled:l,vars:r,varsResolver:X}),_=Q(v,d),w=L({size:d,thickness:_,sections:n,renderRoundedLineCaps:R,rootColor:T}).map(({data:h,sum:N,root:$,lineRoundCaps:z,offset:I},S)=>G.createElement(C,{...h,key:S,size:d,thickness:_,sum:N,offset:I,color:h==null?void 0:h.color,root:$,lineRoundCaps:z,getStyles:p}));return o.jsxs(b,{...p("root"),size:d,ref:e,...j,children:[o.jsx("svg",{...p("svg"),children:w}),c&&o.jsx("div",{...p("label"),children:c})]})});k.classes=P;k.displayName="@mantine/core/RingProgress";const Y="_link_kcnen_1",Z={link:Y};function fs({project:s}){let e=0,t=0;return s.all_tasks_count>0&&(e=s.completed_tasks_count/s.all_tasks_count*100,t=s.overdue_tasks_count/s.all_tasks_count*100),o.jsx(A,{bg:"none",children:o.jsxs(x,{justify:"space-between",wrap:"nowrap",children:[o.jsxs(q,{gap:6,children:[o.jsx(x,{justify:"space-between",children:o.jsxs(H,{fz:24,onClick:()=>V("projects.tasks",s.id),className:Z.link,children:[s.favorite&&o.jsx(J,{style:{color:"var(--mantine-color-yellow-4)",width:f(15),height:f(15),marginRight:10}}),s.name]})}),o.jsx(g,{fz:"xs",fw:700,c:"dimmed",mb:4,children:s.client_company.name}),o.jsx("div",{children:o.jsx(y,{label:"Completed tasks",openDelay:500,withArrow:!0,children:o.jsxs(g,{fz:"lg",fw:500,inline:!0,span:!0,children:["Tasks: ",s.completed_tasks_count," / ",s.all_tasks_count]})})})]}),o.jsx(k,{size:100,thickness:10,sections:[{value:100-(e+t),color:"gray"},{value:t,color:"red",tooltip:`Overdue: ${s.overdue_tasks_count}`},{value:e,color:"blue",tooltip:`Completed: ${s.completed_tasks_count}`}],label:o.jsxs(g,{fz:15,fw:700,ta:"center",children:[W(e),"%"]})})]})})}export{fs as ProjectCard};
